<div class="container py-4">
  <div class="card shadow-sm rounded-4" style="background-color: #eaf0e6;">
    <div class="card-body">


      <div class="d-flex justify-content-between align-items-center mb-2">
        <a href="<%= recipes_path %>" class="btn btn-link text-success fs-4">
          <i class="fas fa-arrow-left"></i>
        </a>
        <div>
          <i class="far fa-heart fs-4 me-3 text-danger"></i>
          <i class="fas fa-ellipsis-v fs-4 text-secondary"></i>
        </div>
      </div>

      <h3 class="fw-bold text-success"><%= @recipe.name %></h3>

      <div class="my-3 position-relative">
        <img src="<%= @recipe.url_image %>" alt="<%= @recipe.name %>" class="img-fluid rounded-4">
        <div class="position-absolute bottom-0 start-0 m-2 d-flex gap-2">
          <span class="badge bg-light text-dark"><i class="fas fa-utensils me-1"></i><%= @recipe.portions %> portions</span>
          <span class="badge bg-light text-dark"><i class="fas fa-clock me-1"></i>Prep. time <%= @recipe.preparation_time %> Min</span>
        </div>
      </div>

      <h5 class="text-success mt-4">Ingredients</h5>
      <div class="card p-3 rounded-4">
        <% @recipe.ingredients.each do |ingredient| %>
          <div class="d-flex justify-content-between py-1">
            <span><%= ingredient.name %></span>
            <span><%= ingredient.quantity %> <%= ingredient.unit %></span>
          </div>
        <% end %>
      </div>

      <h5 class="text-success mt-4">Instructions</h5>
      <div class="card p-3 rounded-4">
        <% @recipe.description.each_with_index do |step, index| %>
          <div class="mb-3">
            <span class="fw-bold text-muted">Step <%= index + 1 %></span>
            <p><%= step %></p>
          </div>
        <% end %>
      </div>

    </div>
  </div>
</div>


<!-- Bottom navbar -->
<nav class="bottom-nav">
  <%= link_to root_path, class: "nav-link" do %>
    <div class="nav-content">
      <%= image_tag "https://res.cloudinary.com/dhv4phhqr/image/upload/v1749654034/home_afkoel.svg", alt: "Home", class: "nav-icon" %>
      <span class="nav-label">Home</span>
    </div>
  <% end %>

  <%= link_to recipes_path, class: "nav-link" do %>
    <div class="nav-content">
      <%= image_tag "https://res.cloudinary.com/dhv4phhqr/image/upload/v1749654035/spoon_ubduiu.svg", alt: "Recipes", class: "nav-icon" %>
      <span class="nav-label">Recipes</span>
    </div>
  <% end %>

  <%= link_to collections_path, class: "nav-link active" do %>
    <div class="nav-content">
      <%= image_tag "https://res.cloudinary.com/dhv4phhqr/image/upload/v1749654034/book_vljedv.svg", alt: "Books", class: "nav-icon" %>
      <span class="nav-label">Books</span>
    </div>
  <% end %>

  <% if current_user %>
    <%= link_to user_path(current_user), class: "nav-link" do %>
      <div class="nav-content">
        <%= image_tag "https://res.cloudinary.com/dhv4phhqr/image/upload/v1749654034/profile_f9vtwn.svg", alt: "Profile", class: "nav-icon" %>
        <span class="nav-label">Profile</span>
      </div>
    <% end %>
  <% else %>
    <%= link_to new_user_session_path, class: "nav-link" do %>
      <div class="nav-content">
        <%= image_tag "https://res.cloudinary.com/dhv4phhqr/image/upload/v1749654034/profile_f9vtwn.svg", alt: "Profile", class: "nav-icon" %>
        <span class="nav-label">Profile</span>
      </div>
    <% end %>
  <% end %>
</nav>
